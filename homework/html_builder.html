<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>HTML Renderer Homework Assignment &mdash; Code Fellows F2 Python, March-April 2015</title>
    
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Code Fellows F2 Python, March-April 2015" href="../index.html" />
    <link rel="up" title="Homework Materials" href="index.html" />
    <link rel="next" title="Supplemental Materials" href="../supplements/index.html" />
    <link rel="prev" title="Kata Fourteen: Tom Swift Under Milk Wood" href="kata_fourteen.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body role="document">
<div class="header">
  <div class="logo">
    <a href="../index.html">
      <img class="logo" src="../_static/cf_logo.png" alt="Logo"/>
      <p>Code Fellows</p>
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../supplements/index.html" title="Supplemental Materials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="kata_fourteen.html" title="Kata Fourteen: Tom Swift Under Milk Wood"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">F2 Python</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Homework Materials</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="html-renderer-homework-assignment">
<span id="homework-html-renderer"></span><h1>HTML Renderer Homework Assignment<a class="headerlink" href="#html-renderer-homework-assignment" title="Permalink to this headline">¶</a></h1>
<div class="section" id="html-render">
<h2>HTML Render<a class="headerlink" href="#html-render" title="Permalink to this headline">¶</a></h2>
<div class="section" id="goal">
<h3>Goal:<a class="headerlink" href="#goal" title="Permalink to this headline">¶</a></h3>
<p>The goal is to create a set of classes to render html pages &#8211; in a &#8220;pretty printed&#8221; way. i.e nicely indented and human readable. We&#8217;ll try to get to all the features required to render:</p>
<p><a class="reference download internal" href="../_downloads/sample_html.html"><code class="xref download docutils literal"><span class="pre">sample_html.html</span></code></a></p>
<p>The exercise is broken down into a number of steps &#8211; each requiring a few more OO concepts in Python.</p>
</div>
<div class="section" id="general-instructions">
<h3>General Instructions:<a class="headerlink" href="#general-instructions" title="Permalink to this headline">¶</a></h3>
<p>For each step, add the required functionality. There is example code to run
your code for each step in: <code class="docutils literal"><span class="pre">code\session06\run_html_render.py</span></code></p>
<p>name your file: <code class="docutils literal"><span class="pre">html_render.py</span></code> &#8211; so it can be imported by
<code class="docutils literal"><span class="pre">run_html_render.py</span></code></p>
<p>You should be able to run that code at each step, uncommenting each new step in
<code class="docutils literal"><span class="pre">run_html_render.py</span></code> as you go.</p>
<p>It builds up a html tree, and then calls the <code class="docutils literal"><span class="pre">render()</span></code> method of your
element to render the page.</p>
<p>It uses a <code class="docutils literal"><span class="pre">cStringIO</span></code> object (like a file, but in memory) to render to
memory, then dumps it to the console, and writes a file. Take a look at the
code at the end to make sure you understand it.</p>
<p>The html generated at each step is in the files: <code class="docutils literal"><span class="pre">test_html_ouput?.html</span></code></p>
<p>At each step, your results should look similar that those (maybe not
identical...)</p>
</div>
<div class="section" id="step-1">
<h3>Step 1:<a class="headerlink" href="#step-1" title="Permalink to this headline">¶</a></h3>
<p>Create an <code class="docutils literal"><span class="pre">Element</span></code> class for rendering an html element (xml element).</p>
<p>It should have class attributes for the tag name (&#8220;html&#8221; first) and the
indentation (spaces to indent for pretty printing)</p>
<p>The constructor signature should look like</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Element</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal"><span class="pre">content</span></code> is a string</p>
<p>It should have an <code class="docutils literal"><span class="pre">append</span></code> method that can add another string to the content.</p>
<p>It should have a <code class="docutils literal"><span class="pre">render(file_out,</span> <span class="pre">ind</span> <span class="pre">=</span> <span class="pre">&quot;&quot;)</span></code> method that renders the tag and
the strings in the content.</p>
<p><code class="docutils literal"><span class="pre">file_out</span></code> could be any file-like object ( i.e. have a <code class="docutils literal"><span class="pre">write()</span></code> method ).</p>
<p><code class="docutils literal"><span class="pre">ind</span></code> is a string with the indentation level in it: the amount that the tag
should be indented for pretty printing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is a little tricky: <code class="docutils literal"><span class="pre">ind</span></code> will be the amount that this element
should be indented already. It will be from zero (an empty string) to a lot of
spaces, depending on how deep it is in the tree.</p>
</div>
<p>The amount of indentation should be set by the class attribute: <code class="docutils literal"><span class="pre">indent</span></code></p>
<p>You should now be able to render an html tag with text in it as contents.</p>
<p>See: step 1. in <code class="docutils literal"><span class="pre">run_html_render.py</span></code></p>
</div>
<div class="section" id="step-2">
<h3>Step 2:<a class="headerlink" href="#step-2" title="Permalink to this headline">¶</a></h3>
<p>Create a couple subclasses of <code class="docutils literal"><span class="pre">Element</span></code>, for a <code class="docutils literal"><span class="pre">&lt;body&gt;</span></code> tag and <code class="docutils literal"><span class="pre">&lt;p&gt;</span></code> tag. All you should have to do is override the <code class="docutils literal"><span class="pre">tag</span></code> class attribute (you may need to add a <code class="docutils literal"><span class="pre">tag</span></code> class attribute to the Element class first...).</p>
<p>Now you can render a few different types of element.</p>
<p>Extend the <code class="docutils literal"><span class="pre">Element.render()</span></code> method so that it can render other elements inside the tag in addition to strings. Simple recursion should do it. i.e. it can call the <code class="docutils literal"><span class="pre">render()</span></code> method of the elements it contains. You&#8217;ll need to be smart about setting the <code class="docutils literal"><span class="pre">ind</span></code> optional parameter &#8211; so that the nested elements get indented correctly.</p>
<p>Figure out a way to deal with the fact that the contained elements could be either simple strings or <code class="docutils literal"><span class="pre">Element</span></code> s with render methods (there are a few ways to handle that...).</p>
<p>You should now be able to render a basic web page with an html tag around
the whole thing, a <code class="docutils literal"><span class="pre">&lt;body&gt;</span></code> tag inside, and multiple <code class="docutils literal"><span class="pre">&lt;p&gt;</span></code> tags inside that,
with text inside that. And all indended nicely.</p>
<p>See <code class="docutils literal"><span class="pre">test_html_output2.html</span></code></p>
</div>
<div class="section" id="step-3">
<h3>Step 3:<a class="headerlink" href="#step-3" title="Permalink to this headline">¶</a></h3>
<p>Create a <code class="docutils literal"><span class="pre">&lt;head&gt;</span></code> element &#8211; simple subclass.</p>
<p>Create a <code class="docutils literal"><span class="pre">OneLineTag</span></code> subclass of <code class="docutils literal"><span class="pre">Element</span></code>:</p>
<ul>
<li><p class="first">It should override the render method, to render everything on one line &#8211; for the simple tags, like:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;title&gt; PythonClass - Session 6 example &lt;/title&gt;
</pre></div>
</div>
</li>
</ul>
<p>Create a <code class="docutils literal"><span class="pre">Title</span></code> subclass of <code class="docutils literal"><span class="pre">OneLineTag</span></code> class for the title.</p>
<p>You should now be able to render an html doc with a head element, with a
title element in that, and a body element with some <code class="docutils literal"><span class="pre">&lt;P&gt;</span></code> elements and some text.</p>
<p>See <code class="docutils literal"><span class="pre">test_html_output3.html</span></code></p>
</div>
<div class="section" id="step-4">
<h3>Step 4:<a class="headerlink" href="#step-4" title="Permalink to this headline">¶</a></h3>
<p>Extend the <code class="docutils literal"><span class="pre">Element</span></code> class to accept a set of attributes as keywords to the
constructor, ie. (<code class="docutils literal"><span class="pre">run_html_render.py</span></code>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Element</span><span class="p">(</span><span class="s">&quot;some text content&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s">&quot;TheList&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">&quot;line-height:200%&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>( remember <code class="docutils literal"><span class="pre">**kwargs</span></code>? )</p>
<p>The render method will need to be extended to render the attributes properly.</p>
<p>You can now render some <code class="docutils literal"><span class="pre">&lt;p&gt;</span></code> tags (and others) with attributes</p>
<p>See <code class="docutils literal"><span class="pre">test_html_output4.html</span></code></p>
</div>
<div class="section" id="step-5">
<h3>Step 5:<a class="headerlink" href="#step-5" title="Permalink to this headline">¶</a></h3>
<p>Create a <code class="docutils literal"><span class="pre">SelfClosingTag</span></code> subclass of Element, to render tags like:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;hr /&gt; and &lt;br /&gt; (horizontal rule and line break).
</pre></div>
</div>
<p>You will need to override the render method to render just the one tag and
attributes, if any.</p>
<p>Create a couple subclasses of <code class="docutils literal"><span class="pre">SelfClosingTag</span></code> for and &lt;hr /&gt; and &lt;br /&gt;</p>
<p>See <code class="docutils literal"><span class="pre">test_html_output5.html</span></code></p>
</div>
<div class="section" id="step-6">
<h3>Step 6:<a class="headerlink" href="#step-6" title="Permalink to this headline">¶</a></h3>
<p>Create a <code class="docutils literal"><span class="pre">A</span></code> class for an anchor (link) element. Its constructor should look like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">link</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
</pre></div>
</div>
<p>where link is the link, and content is what you see. It can be called like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">A</span><span class="p">(</span><span class="s">u&quot;http://google.com&quot;</span><span class="p">,</span> <span class="s">u&quot;link to google&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You should be able to subclass from <code class="docutils literal"><span class="pre">Element</span></code>, and only override the <code class="docutils literal"><span class="pre">__init__</span></code> &#8212; Calling the <code class="docutils literal"><span class="pre">Element</span></code> <code class="docutils literal"><span class="pre">__init__</span></code> from the  <code class="docutils literal"><span class="pre">A</span> <span class="pre">__init__</span></code></p>
<p>You can now add a link to your web page.</p>
<p>See <code class="docutils literal"><span class="pre">test_html_output6.html</span></code></p>
</div>
<div class="section" id="step-7">
<h3>Step 7:<a class="headerlink" href="#step-7" title="Permalink to this headline">¶</a></h3>
<p>Create <code class="docutils literal"><span class="pre">Ul</span></code> class for an unordered list (really simple subclass of <code class="docutils literal"><span class="pre">Element</span></code>)</p>
<p>Create <code class="docutils literal"><span class="pre">Li</span></code> class for an element in a list (also really simple)</p>
<p>Add a list to your web page.</p>
<p>Create a <code class="docutils literal"><span class="pre">Header</span></code> class &#8211; this one should take an integer argument for the
header level. i.e &lt;h1&gt;, &lt;h2&gt;, &lt;h3&gt;, called like</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">H</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&quot;The text of the header&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>for an &lt;h2&gt; header</p>
<p>It can subclass from <code class="docutils literal"><span class="pre">OneLineTag</span></code> &#8211; overriding the <code class="docutils literal"><span class="pre">__init__</span></code>, then calling the superclass <code class="docutils literal"><span class="pre">__init__</span></code></p>
<p>See <code class="docutils literal"><span class="pre">test_html_output7.html</span></code></p>
</div>
<div class="section" id="step-8">
<h3>Step 8:<a class="headerlink" href="#step-8" title="Permalink to this headline">¶</a></h3>
<p>Update the <code class="docutils literal"><span class="pre">Html</span></code> element class to render the &#8220;&lt;!DOCTYPE html&gt;&#8221; tag at the head of the page, before the html element.</p>
<p>You can do this by subclassing <code class="docutils literal"><span class="pre">Element</span></code>, overriding <code class="docutils literal"><span class="pre">render()</span></code>, but then calling the <code class="docutils literal"><span class="pre">Element</span></code> render from the new render.</p>
<p>Create a subclass of <code class="docutils literal"><span class="pre">SelfClosingTag</span></code> for <code class="docutils literal"><span class="pre">&lt;meta</span> <span class="pre">charset=&quot;UTF-8&quot;</span> <span class="pre">/&gt;</span></code> (like for <code class="docutils literal"><span class="pre">&lt;hr</span> <span class="pre">/&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;br</span> <span class="pre">/&gt;</span></code> and add the meta element to the beginning of the head element to give your document an encoding.</p>
<p>The doctype and encoding are HTML 5 and you can check this at: <a class="reference external" href="http://validator.w3.org">http://validator.w3.org</a>.</p>
<p>You now have a pretty full-featured html renderer &#8211; play with it, add some
new tags, etc....</p>
<p>See <code class="docutils literal"><span class="pre">test_html_output8.html</span></code></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">HTML Renderer Homework Assignment</a><ul>
<li><a class="reference internal" href="#html-render">HTML Render</a><ul>
<li><a class="reference internal" href="#goal">Goal:</a></li>
<li><a class="reference internal" href="#general-instructions">General Instructions:</a></li>
<li><a class="reference internal" href="#step-1">Step 1:</a></li>
<li><a class="reference internal" href="#step-2">Step 2:</a></li>
<li><a class="reference internal" href="#step-3">Step 3:</a></li>
<li><a class="reference internal" href="#step-4">Step 4:</a></li>
<li><a class="reference internal" href="#step-5">Step 5:</a></li>
<li><a class="reference internal" href="#step-6">Step 6:</a></li>
<li><a class="reference internal" href="#step-7">Step 7:</a></li>
<li><a class="reference internal" href="#step-8">Step 8:</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="kata_fourteen.html"
                        title="previous chapter">Kata Fourteen: Tom Swift Under Milk Wood</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../supplements/index.html"
                        title="next chapter">Supplemental Materials</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../supplements/index.html" title="Supplemental Materials"
             >next</a> |</li>
        <li class="right" >
          <a href="kata_fourteen.html" title="Kata Fourteen: Tom Swift Under Milk Wood"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">F2 Python</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Homework Materials</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Christopher Barker, Cris Ewing.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>